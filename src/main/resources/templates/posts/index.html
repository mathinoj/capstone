<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div th:insert="partials :: head"></div>
<head>
    <meta charset="UTF-8">
    <title>Posts Index</title>
</head>
<body>
<nav th:replace="partials :: navbar"></nav>


<div class="container" sec:authorize="isAuthenticated()">
    <h1>Welcome to Half Guard, <span th:text="${#authentication.principal.firstName + ' ' + #authentication.principal.lastName}"></span>!</h1>


    <div th:each="post : ${allPosts}">
        Title: <p th:text="${post.getTitle}" ></p>
        Body: <p th:text="${post.getBody}"></p>
        POSTER 1000:<p th:text="${post.getUser().getFirstName} + ' ' + ${post.getUser().getLastName}"></p>

        <form th:action="'/posts/edit/' + ${post.getId()}" method="get">
            <button>Edit</button>
        </form>

        <form th:action="'/posts/delete/' + ${post.getId()}" method="post">
            <button>Delete</button>
        </form>
        <a th:href="@{'/posts/' + ${post.getId()}} ">View Single Post</a>

        <br>


    </div>

</div>

</body>
</html>