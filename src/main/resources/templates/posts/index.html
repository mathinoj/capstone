<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div th:insert="partials :: head"></div>
<head>
    <meta charset="UTF-8">
    <title>Posts Index</title>
</head>
<body>
<nav th:replace="partials :: navbar"></nav>

<H1>Hello <b>[[${#request.userPrincipal.principal.firstName}]]</b></H1>
<!--<h1>Hello, this be <span th:text="${firstName}"> </span> World !</h1>-->


<div class="container" sec:authorize="isAuthenticated()">


    <div th:each="post : ${allPosts}">
<!--       Title: <p th:text="${post.getTitle}" th:href="@{|/templates/halfGuard/posts/${post.id}|}"></p>-->
        Title: <p th:text="${post.getTitle}" ></p>
        Body: <p th:text="${post.getBody}"></p>
        Poster: <p th:text="${post.getId()}"></p>
<!--        POSTER 1000: <span th:text="${#authentication.principal.getFirstName}"/>-->
<!--        POSTERFY : <a th:href="@{/posts/${post.id}}"></a>-->

        <!--        POSTER 1000:<p th:text="${post.getUser().getUsername}"></p>-->
<!--        POSTER 1000: <p th:text="${post.user.id}"></p>-->

        <form th:action="'/posts/edit/' + ${post.getId()}" method="get">
            <button>Edit</button>
        </form>

        <form th:action="'/posts/delete/' + ${post.getId()}" method="post">
            <button>Delete</button>
        </form>

        <br>


    </div>

</div>

</body>
</html>